<div class="edit-coupon-modal">
  <h2>ערוך קופון</h2>
  <div class="example-loading-shade" *ngIf="isLoadingResults">
      <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
  </div>
 <mat-divider></mat-divider>
 <mat-dialog-content>
      <form [formGroup]="couponsForm" (ngSubmit)="onFormSubmit()">
          <mat-grid-list cols="2" rowHeight="80" [gutterSize]="'25px'">
              <mat-grid-tile >
                  <mat-form-field floatLabel="always" class="example-full-width">
                      <mat-label>שם</mat-label>
                      <input matInput placeholder="שם" formControlName="name" [errorStateMatcher]="matcher">
                      <mat-error>
                          <span *ngIf="!couponsForm.get('name').valid && couponsForm.get('name').touched">יש למלא שם קופון</span>
                      </mat-error>
                  </mat-form-field>

              </mat-grid-tile>
              <mat-grid-tile>
                  <mat-form-field floatLabel="always" class="example-full-width">
                      <mat-label>קוד קופון</mat-label>
                      <input matInput placeholder="קוד קופון" formControlName="code" [errorStateMatcher]="matcher">
                      <mat-error>
                          <span *ngIf="!couponsForm.get('code').valid && couponsForm.get('code').touched">יש למלא את קוד הקופון</span>
                      </mat-error>
                  </mat-form-field>
              </mat-grid-tile>
          <mat-grid-tile>
              <mat-form-field floatLabel="always" class="example-full-width">
                  <mat-label>סוג ההנחה</mat-label>
                  <mat-select formControlName="discount_type">
                      <mat-option *ngFor="let dt of discountTypeList" [value]="dt.value">
                        {{dt.text}}
                      </mat-option>
                    </mat-select>
                  <mat-error>
                      <span *ngIf="!couponsForm.get('discount_type').valid && couponsForm.get('discount_type').touched">יש למלא את סוג ההנחה</span>
                  </mat-error>
              </mat-form-field>
          </mat-grid-tile> 
          <mat-grid-tile>
              <mat-form-field floatLabel="always" class="example-full-width">
                  <mat-label>ערך ההנחה</mat-label>
                  
                  <input type="number" matInput placeholder="ערך ההנחה" min="0" formControlName="discount" [errorStateMatcher]="matcher">
                  <div  class="inc-button spinner-button"></div>
                  <div  class="dec-button spinner-button"></div>
                  <mat-error>
                      <span *ngIf="!couponsForm.get('discount').valid && couponsForm.get('discount').touched">יש למלא ערך הנחה</span>
                  </mat-error>
              </mat-form-field>

          </mat-grid-tile>
          <mat-grid-tile>

              <mat-form-field floatLabel="always" class="example-full-width">
                  <mat-label>תאריך תפוגה</mat-label>
                  <input [matDatepicker]="picker" matInput placeholder="תאריך תפוגה" formControlName="expiry_date" [errorStateMatcher]="matcher">
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                
                  <mat-error>
                      <span *ngIf="!couponsForm.get('expiry_date').valid && couponsForm.get('expiry_date').touched">יש למלא תאריך תפוגה</span>
                  </mat-error>
              </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile>
              <mat-form-field floatLabel="always" class="example-full-width">
                  <mat-label>כמות קופונים</mat-label>
                  <input type="number" matInput min="0" placeholder="כמות קופונים" formControlName="quantity" [errorStateMatcher]="matcher">
                  <div  class="inc-button spinner-button"></div>
                  <div  class="dec-button spinner-button"></div>
                  <mat-error>
                      <span *ngIf="!couponsForm.get('quantity').valid && couponsForm.get('quantity').touched">יש למלא כמות קופונים</span>
                  </mat-error>
              </mat-form-field>

          </mat-grid-tile>


          </mat-grid-list>
        

          <mat-divider></mat-divider> 
          <button mat-button type="submit" [disabled]="!couponsForm.valid" class="save-item-button edit-item-button save-item-button-primary" >
              שמור
   
          </button>
          <button mat-button type="button" (click)="deleteCoupon()" class="save-item-button remove-item-button " >
            הסר קופון
 
        </button>

          
         

          
          
      </form>
  </mat-dialog-content>
</div>